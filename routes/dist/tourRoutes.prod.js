"use strict";var express=require("express"),tourController=require("./../controller/tourController"),authController=require("./../controller/authController"),reviewRouter=require("./../routes/reviewRoutes"),router=express.Router();router.route("/top-5-cheap").get(tourController.aliasTopTours,tourController.getAllTours),router.route("/monthly-plan/:year").get(tourController.getMonthlyPlan),router.route("/distances/:latlng/unit/:unit").get(tourController.getDistances),router.route("/tour-stats").get(tourController.getTourStats),router.route("/tours-within/:distance/center/:latlng/unit/:unit").get(tourController.getToursWithin),router.route("/").get(tourController.getAllTours).post(authController.protect,authController.restrictTo("admin","lead-guide"),tourController.createTour),router.route("/:id").get(tourController.getTour).patch(authController.protect,authController.restrictTo("admin","lead-guide"),tourController.uploadTourImages,tourController.resizeTourImages,tourController.updateTour).delete(authController.protect,authController.restrictTo("admin","lead-guide"),tourController.deleteTour),router.use("/:tourId/reviews",reviewRouter),module.exports=router;