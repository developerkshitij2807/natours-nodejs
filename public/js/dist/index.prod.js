"use strict";require("@babel/polyfill");var _mapbox=require("./mapbox"),_login=require("./login"),_updateSettings=require("./updateSettings"),logOutBtn=document.querySelector(".nav__el--logout"),mapBox=document.getElementById("map"),loginForm=document.querySelector(".form"),userDataForm=document.querySelector(".form-user-data"),userPasswordForm=document.querySelector(".form-user-password");if(mapBox){var locations=JSON.parse(document.getElementById("map").dataset.locations);(0,_mapbox.displayMap)(locations)}loginForm&&loginForm.addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("email").value,o=document.getElementById("password").value;(0,_login.login)(t,o)}),logOutBtn&&logOutBtn.addEventListener("click",_login.logout),userDataForm&&userDataForm.addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("name").value,o=document.getElementById("email").value,n=document.getElementById("photo").files[0];(0,_updateSettings.updateSettings)({name:t,email:o,photo:n},"data")}),userPasswordForm&&userPasswordForm.addEventListener("submit",function(t){var o,n,r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=document.getElementById("password-current").value,n=document.getElementById("password").value,r=document.getElementById("password-confirm").value,e.next=6,regeneratorRuntime.awrap((0,_updateSettings.updateSettings)({passwordCurrent:o,password:n,passwordConfirm:r},"password"));case 6:document.getElementById("password-current").value="",document.getElementById("password").value="",document.getElementById("password-confirm").value="";case 9:case"end":return e.stop()}})});